@{
Layout = "_Layout";
}

<partial name="_MultiplayerModeSettingsModal" />

<div class="container mt-5">
    <div class="text-center">
        <h2>Player VS Player Mode</h2>
        <div class="text-center mt-4 mb-2">
            <button class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#multiplayerSettings">
                New Game
            </button>
            <a asp-controller="Home" asp-action="Leaderboard" class="btn btn-info me-2">Leaderboard</a>

            <a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary">Back to Home</a>
        </div>

        <div class="d-flex justify-content-center">
            <div id="game-grid" class="grid" style="display: grid; grid-template-columns: repeat(3, 100px); gap: 5px;">
                @for (int i = 0; i < 9; i++)
                {
                <div class="cell border border-dark d-flex align-items-center justify-content-center"
                     data-index="@i"
                     style="width: 100px; height: 100px; font-size: 2rem; cursor: pointer;"
                     onclick="makeMultiplayerMove(this)">
                    <span></span>
                </div>
                }
            </div>
        </div>

        <div id="game-status" class="mt-3 h4"></div>

        <partial name="_MultiplayerHistory" />
    </div>
</div>

@section Scripts {
    <partial name="MultiplayerScripts/_LoadHistory" />
    
    <partial name="MultiplayerScripts/_Pagination" />

    <partial name="MultiplayerScripts/_StartNewGame"/>

    <partial name="MultiplayerScripts/_ResetBoard" />

    <partial name="MultiplayerScripts/_MakeMove"/>
    
    <partial name="MultiplayerScripts/_UpdateGameStatus"/>

    <partial name="MultiplayerScripts/_LoadHistory" />

    <partial name="MultiplayerScripts/_Pagination"/>
}